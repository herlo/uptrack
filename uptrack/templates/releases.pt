<html lang="en" xmlns:tal="http://xml.zope.org/namespaces/tal"
                xmlns:metal="http://xml.zope.org/namespaces/metal"
                metal:use-macro="layout.macros['layout']">

    <tal:block metal:fill-slot="content">
      <div class="row-fluid" >
        <div tal:switch="releases.count() == 0" id="uptrack_listcontainer" class="span4">
          <div tal:case="True" id="uptrack_list" class="uptrack_disabled">
            No releases configured.
          </div>
          <div tal:case="False" id="uptrack_list">
            <ul>
              <li tal:repeat="release releases" class="uptrack_listitem"
                  data-id="${release.id}" data-koji_tag="${release.koji_tag}"
                  data-git_url="${release.git_url}">
                ${release.name}
              </li>
            </ul>
          </div>
          <div id="uptrack_listcontrols">
            <ul>
              <!-- Do **not** add a new line between the two 'li', this adds visible space -->
              <li class="btn first" id="uptrack_listadd">+</li><li class="btn last disabled" id="uptrack_listremove" data-callback="remove_release" data-param="release" data-action="/releases/remove">-</li>
            </ul>
          </div>
        </div>

        <div class="span7">
          <form class="form-horizontal ajax"
                action="/releases/save" method="post"
                data-callback="save_release" data-param="release">
            <legend>New release</legend>
            <input type="hidden" id="id" name="id" />
            <div class="control-group">
              <label class="control-label" for="name">Name</label>
              <div class="controls">
                <input type="text" id="name" name="name" autocomplete="off" />
              </div>
            </div>
            <div class="control-group">
              <label class="control-label" for="koji_tag">Koji tag</label>
              <div class="controls">
                <input type="text" id="koji_tag" name="koji_tag" autocomplete="off" />
              </div>
            </div>
            <div class="control-group">
              <label class="control-label" for="git_url">Git URL</label>
              <div class="controls">
                <input type="text" id="git_url" name="git_url" autocomplete="off" />
              </div>
            </div>
            <div class="control-group">
              <div class="controls">
                <button type="submit" class="btn">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </tal:block>
</html>
